# Онлайн магазин
Реализация онлайн магазина в рамках стажировки в компании Thumbtack

## Сборка и запуск

### База данных
Логин, пароль пользователя и имя базы данных можно указать ``main/resources/application.properties``.

Для тестирования системы используйте отдельную базу данных и укажите её настройки в 
``test/resources/application.properties``.

**Внимание**: база данных должна иметь кодировку UTF-8. Установить данную кодировку
можно использовав команду ниже (MySQL):
```sql
alter database `<database_name>` character set utf8 collate utf8_general_ci
```

### Запуск
Для начала собираем .jar файл:
```bash
gradle jar
```

Затем производим запуск:
```bash
java -jar /build/classes/libs/onlineshop-1.0-SNAPSHOT.jar
```

Сервер будет запущен на localhost по порту 8888 (иной порт можно указать в ``src/resources/config.properties``)

### Конфигурация сервера
Конфигурацию сервера можно прописать в файле ``config.properties``. Сервер поддерживает 
следующие параметры:

| Параметр        | Тип | По умолчанию | Описание |
| --------        | --- | ------------ | -------- |
| rest_http | int | 8888 | Порт, на котором работает REST-сервер |
| max_name_length | int | 50 | Максимальная длина имени |
| min_password_length | int | 8 | Минимальная длина пароля |

#### Почтовая рассылка
Сервер поддерживает почтовую рассылку (отправка уведомлений о покупке товара на почту
клиента и т.п.) через Mailgun API. Для включения почтовой рассылки достаточно указать два параметра:

| Параметр        | Тип  | Описание |
| --------        | ---  | -------- |
| mail_domain     | string | Домен, с которого производится отправка |
| mail_api_key    | string | Секретный ключ для работы с API Mailgun |


